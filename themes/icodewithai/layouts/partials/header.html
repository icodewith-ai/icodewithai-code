<!-- Header Content -->
<div class="logo-section">
    <a href="/">
        {{ $logo := resources.Get "images/logo.png" | resources.Fingerprint }}
        {{ if $logo }}
        <img src="{{ $logo.RelPermalink }}" alt="iCodeWith.ai" class="logo-image">
        {{ end }}
    </a>
    {{ if or (eq hugo.Environment "next") (eq hugo.Environment "local") }}
    <span class="env-badge">{{ hugo.Environment }}</span>
    {{ end }}
</div>

<!-- Mobile Menu Toggle Button -->
<button class="mobile-menu-toggle" aria-label="Toggle navigation menu">
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
</button>

<!-- Desktop Navigation -->
<nav class="nav">
    
    {{ partial "nav-dropdown" (dict 
        "title" "Learn"
        "items" (slice 
            (dict "name" "Blog" "url" .Site.Params.blog "external" false)
            (dict "name" "Podcast" "url" .Site.Params.podcast "external" false)
            (dict "name" "Show & Tell" "url" .Site.Params.showandtell "external" false)
            (dict "name" "Presentations" "url" .Site.Params.presentations "external" false)
        )
    ) }}

    {{ partial "nav-dropdown" (dict 
        "title" "Explore"
        "items" (slice 
            (dict "name" "App Gallery" "url" .Site.Params.apps "external" false)
        )
    ) }}

    {{ partial "nav-dropdown" (dict 
        "title" "Build"
        "items" (slice 
            (dict "name" "Cody Framework" "url" .Site.Params.cody "external" true)
        )
    ) }}
    
    {{ partial "nav-dropdown" (dict 
        "title" "Community"
        "items" (slice 
            (dict "name" "Discord" "url" .Site.Params.discord "external" true)
            (dict "name" "Meetup" "url" .Site.Params.meetup "external" true)
        )
    ) }}

    {{ partial "nav-dropdown" (dict 
        "title" "About"
        "items" (slice 
            (dict "name" "Marcelo Lewin" "url" .Site.Params.about_marcelo "external" false)
            (dict "name" "Contact" "url" .Site.Params.contact "external" false)
        )
        "align" "right"
    ) }}

</nav>

<!-- Mobile Menu Overlay -->
<div class="mobile-menu-overlay">
    <div class="mobile-menu-content">
        <!-- Header with logo -->
        <div class="mobile-menu-header">
            <div class="mobile-menu-logo">
                <a href="/">
                    {{ if $logo }}
                    <img src="{{ $logo.RelPermalink }}" alt="iCodeWith.ai" class="logo-image">
                    {{ end }}
                </a>
                {{ if or (eq hugo.Environment "next") (eq hugo.Environment "local") }}
                <span class="env-badge">{{ hugo.Environment }}</span>
                {{ end }}
            </div>
        </div>
        
        <!-- Navigation items (same structure as desktop) -->
        <nav class="mobile-nav">
            
            {{ partial "nav-dropdown" (dict 
                "title" "Learn"
                "items" (slice 
                    (dict "name" "Blog" "url" .Site.Params.blog "external" false)
                    (dict "name" "Podcast" "url" .Site.Params.podcast "external" false)
                    (dict "name" "Show & Tell" "url" .Site.Params.showandtell "external" false)
                    (dict "name" "Presentations" "url" .Site.Params.presentations "external" false)
                )
            ) }}

            {{ partial "nav-dropdown" (dict 
                "title" "Explore"
                "items" (slice 
                    (dict "name" "App Gallery" "url" .Site.Params.apps "external" false)
                )
            ) }}

            {{ partial "nav-dropdown" (dict 
                "title" "Build"
                "items" (slice 
                    (dict "name" "Cody Framework" "url" .Site.Params.cody "external" true)
                )
            ) }}
            
            {{ partial "nav-dropdown" (dict 
                "title" "Community"
                "items" (slice 
                    (dict "name" "Discord" "url" .Site.Params.discord "external" true)
                    (dict "name" "Meetup" "url" .Site.Params.meetup "external" true)
                )
            ) }}

            {{ partial "nav-dropdown" (dict 
                "title" "About"
                "items" (slice 
                    (dict "name" "Marcelo Lewin" "url" .Site.Params.about_marcelo "external" false)
                    (dict "name" "Contact" "url" .Site.Params.contact "external" false)
                )
            ) }}
            
        </nav>
    </div>
</div>